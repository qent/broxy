# broxy - ะัะปััะธะฟะปะฐััะพัะผะตะฝะฝัะน ะฟัะพะบัะธ-ัะตัะฒะตั ะดะปั Model Context Protocol

[![Tests](https://github.com/qent/broxy/actions/workflows/tests.yml/badge.svg)](https://github.com/qent/broxy/actions/workflows/tests.yml) [![Build Installers](https://github.com/qent/broxy/actions/workflows/release.yml/badge.svg)](https://github.com/qent/broxy/actions/workflows/release.yml)

## ๐ ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ

broxy - ััะพ ะผัะปััะธะฟะปะฐััะพัะผะตะฝะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะฝะฐ Kotlin, ะบะพัะพัะพะต ะฒััััะฟะฐะตั ะฒ ัะพะปะธ ะธะฝัะตะปะปะตะบััะฐะปัะฝะพะณะพ ะฟัะพะบัะธ-ัะตัะฒะตัะฐ ะผะตะถะดั AI-ะบะปะธะตะฝัะฐะผะธ (ัะฐะบะธะผะธ ะบะฐะบ Claude Desktop) ะธ ะผะฝะพะถะตััะฒะพะผ MCP-ัะตัะฒะตัะพะฒ. ะัะฝะพะฒะฝะฐั ะธะดะตั - ัะพะทะดะฐะฝะธะต ะตะดะธะฝะพะน ัะพัะบะธ ะฒัะพะดะฐ, ะบะพัะพัะฐั ะฐะณัะตะณะธััะตั ะธะฝััััะผะตะฝัั ะธะท ัะฐะทะปะธัะฝัั MCP-ัะตัะฒะตัะพะฒ ะธ ะฟัะตะดะพััะฐะฒะปัะตั ะธั ะฒ ะพััะธะปัััะพะฒะฐะฝะฝะพะผ ะฒะธะดะต ะฝะฐ ะพัะฝะพะฒะต ะฟัะตัะตัะพะฒ (ัะพะปะตะน ะฐะณะตะฝัะพะฒ).

### ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ

- **๐ ะฃะฝะธะฒะตััะฐะปัะฝะฐั ัะพะฒะผะตััะธะผะพััั**: ะะพะดะดะตัะถะบะฐ ะฒัะตั ัะธะฟะพะฒ ััะฐะฝัะฟะพััะพะฒ MCP (STDIO, HTTP+SSE, WebSocket)
- **๐ฏ ะะฝัะตะปะปะตะบััะฐะปัะฝะฐั ัะธะปัััะฐัะธั**: ะกะพะทะดะฐะฝะธะต ะฟัะตัะตัะพะฒ ั ะฒัะฑะพัะพัะฝัะผะธ ะธะฝััััะผะตะฝัะฐะผะธ ะดะปั ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัั AI-ะฐะณะตะฝัะพะฒ
- **๐ฅ๏ธ ะัะพััะฟะปะฐััะพัะผะตะฝะฝะพััั**: ะะฐะฑะพัะฐะตั ะฝะฐ macOS (ะฒะบะปััะฐั M1) ะธ Windows
- **๐จ ะกะพะฒัะตะผะตะฝะฝัะน UI**: Material 3 Design ั ัะตะผะฝะพะน/ัะฒะตัะปะพะน ัะตะผะพะน
- **โก CLI ัะตะถะธะผ**: ะะฐะฟััะบ ะฟัะพะบัะธ-ัะตัะฒะตัะฐ ะธะท ะบะพะผะฐะฝะดะฝะพะน ัััะพะบะธ
- **๐ ะะตะทะพะฟะฐัะฝะพััั**: ะะพะดะดะตัะถะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั ะดะปั ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั

## ๐๏ธ ะััะธัะตะบัััะฐ ะฟัะธะปะพะถะตะฝะธั

### ะะพะฝัะตะฟััะฐะปัะฝะฐั ััะตะผะฐ

```
โโโโโโโโโโโโโโโโโโโ
โ  Claude Desktop โ
โ   (AI Client)   โ
โโโโโโโโโโฌโโโโโโโโโ
         โ MCP Protocol
         โผ
โโโโโโโโโโโโโโโโโโโ
โ   broxy           โ โโโ ะคะธะปัััะฐัะธั ะฝะฐ ะพัะฝะพะฒะต ะฟัะตัะตัะฐ
โ    (Server)     โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
    โโโโโโดโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโ
    โผ         โผ          โผ          โผ
โโโโโโโโโโ โโโโโโโโโโ โโโโโโโโโโ โโโโโโโโโโ
โGitHub  โ โSlack   โ โDatabaseโ โFileSystemโ
โServer  โ โServer  โ โServer  โ โServer   โ
โโโโโโโโโโ โโโโโโโโโโ โโโโโโโโโโ โโโโโโโโโโ
```

### ะะพะดัะปัะฝะฐั ััััะบัััะฐ

1. **core** - ะะปะฐััะพัะผะตะฝะฝะพ-ะฝะตะทะฐะฒะธัะธะผะฐั ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ
   - MCP ะบะปะธะตะฝั ะดะปั ะฟะพะดะบะปััะตะฝะธั ะบ downstream ัะตัะฒะตัะฐะผ
   - MCP ัะตัะฒะตั ะดะปั ะพะฑัะปัะถะธะฒะฐะฝะธั upstream ะบะปะธะตะฝัะพะฒ
   - ะกะธััะตะผะฐ ัะธะปัััะฐัะธะธ ะธ ะผะฐัััััะธะทะฐัะธะธ
   - ะฃะฟัะฐะฒะปะตะฝะธะต ะบะพะฝัะธะณััะฐัะธะตะน

2. **ui** - Desktop ะฟัะธะปะพะถะตะฝะธะต ะฝะฐ Compose Multiplatform
   - ะฃะฟัะฐะฒะปะตะฝะธะต MCP ัะตัะฒะตัะฐะผะธ
   - ะกะพะทะดะฐะฝะธะต ะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะฟัะตัะตัะพะฒ
   - ะะพะฝะธัะพัะธะฝะณ ัะพััะพัะฝะธั ะฟัะพะบัะธ

3. **cli** - ะะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต
   - ะะฐะฟััะบ ะฟัะพะบัะธ-ัะตัะฒะตัะฐ
   - ะะฐะฑะพัะฐ ั ะบะพะฝัะธะณััะฐัะธะพะฝะฝัะผะธ ัะฐะนะปะฐะผะธ

## ๐ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### 1. ะะพะดะบะปััะตะฝะธะต MCP ัะตัะฒะตัะพะฒ

ะะพะปัะทะพะฒะฐัะตะปั ะดะพะฑะฐะฒะปัะตั ัะฐะทะปะธัะฝัะต MCP ัะตัะฒะตัั ะฒ ะบะพะฝัะธะณััะฐัะธั. ะะฐะถะดัะน ัะตัะฒะตั ะผะพะถะตั ะฟัะตะดะพััะฐะฒะปััั ัะฒะพะน ะฝะฐะฑะพั ะธะฝััััะผะตะฝัะพะฒ (tools), ัะตััััะพะฒ (resources) ะธ ะฟัะพะผะฟัะพะฒ (prompts).

ะคะฐะนะป ะบะพะฝัะธะณััะฐัะธะธ ะฟะพ ัะผะพะปัะฐะฝะธั: `~/.config/broxy/mcp.json`

ะะพะดะดะตัะถะธะฒะฐัััั ััะฐะฝัะฟะพััั: `stdio`, `http`, `websocket`. ะคะพัะผะฐั โ ะฟะปะพัะบะธะน (ะฑะตะท ะฒะปะพะถะตะฝะฝะพะณะพ ะพะฑัะตะบัะฐ `transport`):

```json
{
  "mcpServers": {
    "github": {
      "name": "GitHub MCP Server",
      "transport": "stdio",
      "command": "npx",
      "args": ["@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    },
    "slack": {
      "name": "Slack MCP Server",
      "transport": "http",
      "url": "https://slack-mcp.example.com",
      "headers": {
        "Authorization": "Bearer ${SLACK_TOKEN}"
      }
    },
    "realtime": {
      "name": "Realtime Server",
      "transport": "websocket",
      "url": "ws://localhost:8080/ws"
    }
  }
}
```

ะัะธะผะตัะฐะฝะธั:
- ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฟะพะดััะฐะฒะปััััั ะขะะะฌะะ ะฒ ัะตะบัะธะธ `env` ะฟะพ ัะฐะฑะปะพะฝั `${VAR}`. ะะฝะฐัะตะฝะธั ะฒ `headers`, `url` ะธ ั.ะฟ. ะดะพะปะถะฝั ะฑััั ัะถะต ะฟะพะดััะฐะฒะปะตะฝั.
- ะะพะปะต `env` ะฟัะธะผะตะฝัะตััั ะบ STDIO-ัะตัะฒะตัะฐะผ (ะบะฐะบ ะฟะตัะตะผะตะฝะฝัะต ะฟัะพัะตััะฐ). ะะปั HTTP/WS ะพะฝะพ ะฝะต ะธัะฟะพะปัะทัะตััั ััะฐะฝัะฟะพััะพะผ ะฝะฐะฟััะผัั.

### 2. ะกะพะทะดะฐะฝะธะต ะฟัะตัะตัะพะฒ

ะัะตัะตั - ััะพ ะฝะฐะฑะพั ะพััะธะปัััะพะฒะฐะฝะฝัั ะธะฝััััะผะตะฝัะพะฒ ะธะท ัะฐะทะปะธัะฝัั ัะตัะฒะตัะพะฒ, ะพะฑัะตะดะธะฝะตะฝะฝัั ะดะปั ะบะพะฝะบัะตัะฝะพะน ัะพะปะธ AI-ะฐะณะตะฝัะฐ.

**ะัะธะผะตั ะฟัะตัะตัะฐ "Developer Assistant":**
```json
{
  "id": "developer",
  "name": "Developer Assistant",
  "description": "# Developer Assistant\n\nYou are an experienced software developer...",
  "tools": [
    {
      "serverId": "github",
      "toolName": "create_issue",
      "enabled": true
    },
    {
      "serverId": "github",
      "toolName": "create_pull_request",
      "enabled": true
    },
    {
      "serverId": "filesystem",
      "toolName": "read_file",
      "enabled": true
    },
    {
      "serverId": "filesystem",
      "toolName": "write_file",
      "enabled": true
    }
  ]
}
```

### 3. ะะฐะฟััะบ ะฟัะพะบัะธ-ัะตัะฒะตัะฐ

ะัะพะบัะธ-ัะตัะฒะตั ะทะฐะฟััะบะฐะตััั ั ะฒัะฑัะฐะฝะฝัะผ ะฟัะตัะตัะพะผ ะธ ะฟัะตะดะพััะฐะฒะปัะตั ะตะดะธะฝัะน MCP endpoint ะดะปั AI-ะบะปะธะตะฝัะฐ.

**CLI ะทะฐะฟััะบ (ัะตะฐะปะธะทะพะฒะฐะฝะพ):**
```bash
java -jar cli/build/libs/broxy-cli-0.1.0.jar proxy \
  --config-dir ~/.config/broxy \
  --preset-id developer \
  --inbound stdio \
  --log-level info
```

ะัะธะผะตัั inbound ะดะปั ัะตัะธ:
```bash
# HTTP + SSE
java -jar cli/build/libs/broxy-cli-0.1.0.jar proxy \
  --config-dir ~/.config/broxy \
  --preset-id developer \
  --inbound http \
  --url http://0.0.0.0:3335/mcp

# WebSocket
java -jar cli/build/libs/broxy-cli-0.1.0.jar proxy \
  --config-dir ~/.config/broxy \
  --preset-id developer \
  --inbound ws \
  --url ws://0.0.0.0:3336/ws
```

**ะงะตัะตะท UI:**
1. ะัะบัััั ะฟัะธะปะพะถะตะฝะธะต broxy
2. ะัะฑัะฐัั ะฟัะตัะตั
3. ะะฐะถะฐัั "Start Proxy"

### 4. ะะพะดะบะปััะตะฝะธะต ะธะท Claude Desktop

Claude Desktop ะฟะพะดะบะปััะฐะตััั ะบ ะฟัะพะบัะธ-ัะตัะฒะตัั ะบะฐะบ ะบ ะพะฑััะฝะพะผั MCP ัะตัะฒะตัั. ะัะธะผะตั ะดะปั STDIO inbound:

ะััั ะดะฒะฐ ะฒะฐัะธะฐะฝัะฐ:

1) ะะตะท CLI โ ะธัะฟะพะปัะทะพะฒะฐัั ัััะฐะฝะพะฒะปะตะฝะฝะพะต ะฟัะธะปะพะถะตะฝะธะต (ัะตะบะพะผะตะฝะดัะตััั, ะตัะปะธ ั ะฒะฐั ัะพะปัะบะพ DMG/MSI):

macOS (DMG):
```json
{
  "mcpServers": {
    "broxy": {
      "command": "/Applications/broxy.app/Contents/MacOS/broxy",
      "args": [
        "--stdio-proxy",
        "--preset-id", "developer",
        "--config-dir", "/Users/you/.config/broxy"
      ]
    }
  }
}
```

Windows (MSI):
```json
{
  "mcpServers": {
    "broxy": {
      "command": "C:\\Program Files\\broxy\\broxy.exe",
      "args": [
        "--stdio-proxy",
        "--preset-id", "developer",
        "--config-dir", "C:\\Users\\you\\.config\\broxy"
      ]
    }
  }
}
```

2) ะงะตัะตะท CLI (ะตัะปะธ ะฒั ัะพะฑะธัะฐะปะธ JAR):
```json
{
  "mcpServers": {
    "broxy": {
      "command": "java",
      "args": [
        "-jar",
        "/absolute/path/to/cli/build/libs/broxy-cli-0.1.0.jar",
        "proxy",
        "--config-dir", "/Users/you/.config/broxy",
        "--preset-id", "developer",
        "--inbound", "stdio",
        "--log-level", "info"
      ]
    }
  }
}
```

## ๐งฐ ะัะปะฐะดะบะฐ

### ะะพะณะธ ะฝะฐ macOS

- ะัะธ ะทะฐะฟััะบะต ะฟัะธะปะพะถะตะฝะธั ะธะท Gradle (`./gradlew :ui:run`) ะธะปะธ ะธะท ัะตัะผะธะฝะฐะปะฐ ะฒัะต ัะพะพะฑัะตะฝะธั `ConsoleLogger` ะพััะฐัััั ะฒ ััะพะน ะถะต ะบะพะฝัะพะปะธ.
- ะะปั ัััะฐะฝะพะฒะปะตะฝะฝะพะณะพ `.app` ะฟะฐะบะตั macOS ะฟะตัะตะฝะฐะฟัะฐะฒะปัะตั stdout/stderr ะฒ ะบะฐัะฐะปะพะณ `~/Library/Logs/broxy/`. ะัะฝะพะฒะฝะพะน ัะฐะนะป ะปะพะณะพะฒ โ `~/Library/Logs/broxy/broxy.log`; ะตะณะพ ะผะพะถะฝะพ ะฟัะพัะผะฐััะธะฒะฐัั ะธะท `Console.app` (ะดะตัะตะฒะพ *~/Library/Logs/broxy*) ะธะปะธ ะฝะฐะฟััะผัั ะบะพะผะฐะฝะดะพะน `tail -f ~/Library/Logs/broxy/broxy.log`.
- ะัะปะธ log-ัะฐะนะป ะพััััััะฒัะตั, ะทะฐะฟัััะธัะต ะฟัะธะปะพะถะตะฝะธะต ะพะดะธะฝ ัะฐะท โ ะดะธัะตะบัะพัะธั ัะพะทะดะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะฟะตัะฒะพะผ ะฒัะฒะพะดะต ะปะพะณะฐ.

## ๐จ ะะพะปัะทะพะฒะฐัะตะปััะบะธะน ะธะฝัะตััะตะนั

### ะะปะฐะฒะฝะพะต ะพะบะฝะพ ะฟัะธะปะพะถะตะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โฐ broxy                                    ๐ โ๏ธ โ
โโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ         โ  Servers                               โ
โ ๐ก Servers โ                                     โ
โ         โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ ๐ฏ Presets โ  โ ๐ข GitHub Server          โ      โ
โ         โ  โ    Type: STDIO             โ      โ
โ โถ๏ธ Proxy  โ  โ    Tools: 15              โ      โ
โ         โ  โ    [Edit] [Test] [Delete]  โ      โ
โ โ๏ธ Settingsโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ         โ                                        โ
โ         โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ         โ  โ ๐ด Slack Server           โ      โ
โ         โ  โ    Type: HTTP+SSE          โ      โ
โ         โ  โ    Tools: 8               โ      โ
โ         โ  โ    [Edit] [Test] [Delete]  โ      โ
โ         โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ         โ                                        โ
โ         โ        [+] Add Server                  โ
โโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะตะดะฐะบัะพั ะฟัะตัะตัะพะฒ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Edit Preset: Developer Assistant                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Name: [Developer Assistant                    ] โ
โ                                                  โ
โ Description (Markdown):                         โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ โ # Developer Assistant                     โ   โ
โ โ                                           โ   โ
โ โ You are an experienced software developer โ   โ
โ โ specialized in...                         โ   โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                  โ
โ Tools Selection:                   ๐ [Search] โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ โ โผ ๐ GitHub Server (3/15 selected)       โ   โ
โ โ   โ create_issue                         โ   โ
โ โ   โ create_pull_request                  โ   โ
โ โ   โ list_issues                          โ   โ
โ โ   โ search_code                          โ   โ
โ โ   โ get_file_contents                    โ   โ
โ โ                                           โ   โ
โ โ โถ ๐ Slack Server (0/8 selected)         โ   โ
โ โ                                           โ   โ
โ โ โผ ๐ FileSystem Server (2/5 selected)    โ   โ
โ โ   โ read_file                            โ   โ
โ โ   โ write_file                           โ   โ
โ โ   โ list_directory                       โ   โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                  โ
โ Selected: 5 tools from 3 servers                โ
โ                                                  โ
โ        [Cancel]            [Save Preset]        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ง ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต ััะฐะฝัะฟะพััั

1. **STDIO** (Standard Input/Output)
   - ะะปั ะปะพะบะฐะปัะฝัั ะฟัะพัะตััะพะฒ
   - ะัะฟะพะปัะทัะตััั Claude Desktop ะฟะพ ัะผะพะปัะฐะฝะธั
   - ะัะธะผะตั: Node.js ัะตัะฒะตัั, Python ัะบัะธะฟัั

2. **HTTP+SSE** (Server-Sent Events)
   - ะะปั ัะดะฐะปะตะฝะฝัั ัะตัะฒะตัะพะฒ
   - REST API ะดะปั ะทะฐะฟัะพัะพะฒ, SSE ะดะปั ัะพะฑััะธะน
   - ะัะธะผะตั: ะะฑะปะฐัะฝัะต MCP ัะตัะฒะตัั

3. **WebSocket**
   - ะะฒัะฝะฐะฟัะฐะฒะปะตะฝะฝะฐั ัะฒัะทั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
   - ะะธะทะบะฐั ะปะฐัะตะฝัะฝะพััั
   - ะัะธะผะตั: Real-time ัะตัะฒะตัั

### ะคะธะปัััะฐัะธั ะธ ะผะฐัััััะธะทะฐัะธั

#### ะัะตัะธะบัะธัะพะฒะฐะฝะธะต ะธะผะตะฝ

ะะปั ะธะทะฑะตะถะฐะฝะธั ะบะพะฝัะปะธะบัะพะฒ ะธะผะตะฝ, ะธะฝััััะผะตะฝัั ะฟัะตัะธะบัะธัััััั ะธะดะตะฝัะธัะธะบะฐัะพัะพะผ ัะตัะฒะตัะฐ ัะตัะตะท ะดะฒะพะตัะพัะธะต:

- ะัะธะณะธะฝะฐะป: `create_issue` (ะพั GitHub ัะตัะฒะตัะฐ)
- ะะพัะปะต ะฟัะตัะธะบัะฐ: `github:create_issue`

#### ะะฐัััััะธะทะฐัะธั ะทะฐะฟัะพัะพะฒ

ะะพะณะดะฐ ะบะปะธะตะฝั ะฒัะทัะฒะฐะตั `github:create_issue`, ะฟัะพะบัะธ:
1. ะะทะฒะปะตะบะฐะตั ะฟัะตัะธะบั `github`
2. ะะฐัะพะดะธั ัะพะพัะฒะตัััะฒัััะธะน ัะตัะฒะตั
3. ะฃะดะฐะปัะตั ะฟัะตัะธะบั ะธะท ะธะผะตะฝะธ ะธะฝััััะผะตะฝัะฐ
4. ะัะฟัะฐะฒะปัะตั ะทะฐะฟัะพั `create_issue` ะฝะฐ GitHub ัะตัะฒะตั
5. ะะพะทะฒัะฐัะฐะตั ะพัะฒะตั ะบะปะธะตะฝัั

### ะฃะฟัะฐะฒะปะตะฝะธะต ะถะธะทะฝะตะฝะฝัะผ ัะธะบะปะพะผ

1. **ะะฐะฟััะบ ะฟัะพะบัะธ:**
   - ะะฐะณััะทะบะฐ ะบะพะฝัะธะณััะฐัะธะธ
   - ะะพะดะบะปััะตะฝะธะต ะบ downstream ัะตัะฒะตัะฐะผ
   - ะะพะปััะตะฝะธะต capabilities ะพั ะบะฐะถะดะพะณะพ ัะตัะฒะตัะฐ
   - ะัะธะผะตะฝะตะฝะธะต ัะธะปัััะพะฒ ะฟัะตัะตัะฐ
   - ะะฐะฟััะบ upstream ัะตัะฒะตัะฐ ะดะปั ะบะปะธะตะฝัะพะฒ

2. **ะะฑัะฐะฑะพัะบะฐ ะทะฐะฟัะพัะพะฒ:**
   - ะัะธะตะผ ะทะฐะฟัะพัะฐ ะพั ะบะปะธะตะฝัะฐ
   - ะะฟัะตะดะตะปะตะฝะธะต ัะตะปะตะฒะพะณะพ ัะตัะฒะตัะฐ
   - ะัะพะบัะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะฐ
   - ะะพะทะฒัะฐั ะพัะฒะตัะฐ ะบะปะธะตะฝัั

3. **Graceful shutdown:**
   - ะะฐะฒะตััะตะฝะธะต ะฐะบัะธะฒะฝัั ะทะฐะฟัะพัะพะฒ
   - ะัะบะปััะตะฝะธะต ะพั downstream ัะตัะฒะตัะพะฒ
   - ะะฐะบัััะธะต upstream ัะตัะฒะตัะฐ
   - ะกะพััะฐะฝะตะฝะธะต ัะพััะพัะฝะธั

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

- `Java`: 17 ะธะปะธ ะฒััะต
- `ะะก`: macOS (ะฒะบะปััะฐั Apple Silicon M1), Windows 10/11, Linux (DEB ะฟะฐะบะตัั)
- `ะะฐะผััั`: ะผะธะฝะธะผัะผ 512MB RAM
- `ะะธัะบะพะฒะพะต ะฟัะพัััะฐะฝััะฒะพ`: ~100MB

### Desktop ะฟัะธะปะพะถะตะฝะธะต

1. ะกะบะฐัะฐัั ะดะธัััะธะฑััะธะฒ ะดะปั ะฒะฐัะตะน ะะก:
   - macOS: `broxy-1.0.0.dmg`
   - Windows: `broxy-1.0.0.msi`

2. ะฃััะฐะฝะพะฒะธัั ะฟัะธะปะพะถะตะฝะธะต

3. ะะฐะฟัััะธัั broxy

4. ะะพะฑะฐะฒะธัั MCP ัะตัะฒะตัั ะฒ ะฝะฐัััะพะนะบะฐั

5. ะกะพะทะดะฐัั ะฟัะตัะตัั ะดะปั ัะฐะทะปะธัะฝัั ัะพะปะตะน

### STDIO ัะตะถะธะผ ะฑะตะท ัะฑะพัะบะธ CLI (ะธะท ัััะฐะฝะพะฒะปะตะฝะฝะพะณะพ ะฟัะธะปะพะถะตะฝะธั)

ะัะปะธ ั ะฒะฐั ัะพะปัะบะพ ัััะฐะฝะพะฒะปะตะฝะฝะพะต ะฟัะธะปะพะถะตะฝะธะต (DMG/MSI) ะธ ะฒั ะฝะต ัะพะฑะธัะฐะปะธ ะพัะดะตะปัะฝัะน CLI JAR, ะธัะฟะพะปัะทัะนัะต ะฑะธะฝะฐัะฝะธะบ ะฟัะธะปะพะถะตะฝะธั ะฝะฐะฟััะผัั ะฒ ัะตะถะธะผะต `--stdio-proxy`.

macOS:
```bash
/Applications/broxy.app/Contents/MacOS/broxy --stdio-proxy --preset-id <preset> [--config-dir ~/.config/broxy]
```

Windows:
```powershell
"C:\\Program Files\\broxy\\broxy.exe" --stdio-proxy --preset-id <preset> --config-dir "%APPDATA%\\broxy"
```

ะัะธะผะตัะฐะฝะธั:
- `--preset-id` ะพะฑัะทะฐัะตะปะตะฝ โ ััะพ ะฟัะตัะตั, ะบะพัะพััะน ะฑัะดะตั ะฟัะธะผะตะฝัะฝ ะดะปั ัะธะปัััะฐัะธะธ ะธะฝััััะผะตะฝัะพะฒ.
- `--config-dir` ะพะฟัะธะพะฝะฐะปะตะฝ. ะะพ ัะผะพะปัะฐะฝะธั ะธัะฟะพะปัะทัะตััั `~/.config/broxy` ะฝะฐ macOS/Linux ะธ `%USERPROFILE%\\.config\\broxy` ะฝะฐ Windows.
- ะะพะณะธ ะฒ ััะพะผ ัะตะถะธะผะต ะฟะธััััั ะฒ stderr, ะฐ stdout ะธัะฟะพะปัะทัะตััั ัะพะปัะบะพ ะดะปั MCP-ะฟัะพัะพะบะพะปะฐ (ะฝะต ัะผะตัะธะฒะฐะตััั ั ะปะพะณะฐะผะธ).

### CLI ัะตะถะธะผ

1. ะกะพะฑัะฐัั CLI JAR:
```bash
./gradlew :cli:shadowJar
```

2. ะะพะดะณะพัะพะฒะธัั ะบะพะฝัะธะณะธ (ะฟะพ ัะผะพะปัะฐะฝะธั ะธัะฟะพะปัะทัะตััั `~/.config/broxy`):
```bash
mkdir -p ~/.config/broxy
# ~/.config/broxy/mcp.json โ ัะฟะธัะพะบ MCP ัะตัะฒะตัะพะฒ (ัะผ. ะฟัะธะผะตั ะฒััะต)
# ~/.config/broxy/preset_developer.json โ ะฟัะตัะตั (ัะผ. ะฟัะธะผะตัั ะฝะธะถะต)
```

3. ะะฐะฟัััะธัั ะฟัะพะบัะธ:
```bash
java -jar cli/build/libs/broxy-cli-0.1.0.jar proxy \
  --config-dir ~/.config/broxy \
  --preset-id developer \
  --inbound stdio \
  --log-level info
```

### ะะฝัะตะณัะฐัะธั ั Claude Desktop

1. ะะฐะฟัััะธัั ะฟัะพะบัะธ-ัะตัะฒะตั (UI ะธะปะธ CLI)
2. ะะพะฑะฐะฒะธัั ะบะพะฝัะธะณััะฐัะธั MCP ะฒ ะฝะฐัััะพะนะบะธ Claude Desktop (ัะผ. ะฟัะธะผะตั ะฒััะต ะดะปั STDIO)
3. ะะตัะตะทะฐะฟัััะธัั Claude Desktop

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### ะฅัะฐะฝะตะฝะธะต ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั

- ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั: ัะพะบะตะฝั ะธ ะบะปััะธ API ะทะฐะดะฐัััั ะฒ `env` (ะฟะพะดััะฐะฝะพะฒะบะฐ ะฟะพ ัะฐะฑะปะพะฝั `${VAR_NAME}`)
- ะะพะฝัะธะณััะฐัะธะพะฝะฝัะต ัะฐะนะปั: ะทะฝะฐัะตะฝะธั ะฒ `headers` ะฝะต ะฟะพะดััะฐะฒะปััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ, ัะบะฐะทัะฒะฐะนัะต ะณะพัะพะฒัะต ัััะพะบะธ
- ะะตะทะพะฟะฐัะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต: ััะฒััะฒะธัะตะปัะฝัะต ะทะฝะฐัะตะฝะธั ะผะฐัะบะธัััััั

### ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

```json
{
  "env": {
    "GITHUB_TOKEN": "${GITHUB_TOKEN}",
    "OPENAI_API_KEY": "${OPENAI_API_KEY}",
    "DATABASE_URL": "${DATABASE_URL}"
  }
}
```

ะฃััะฐะฝะพะฒะบะฐ ะฟะตัะตะผะตะฝะฝัั:
```bash
export GITHUB_TOKEN="ghp_xxxxxxxxxxxx"
export OPENAI_API_KEY="sk-xxxxxxxxxxxx"
```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะขะตััะธัะพะฒะฐะฝะธะต

- ะ UI: ะธัะฟะพะปัะทัะนัะต ะบะฝะพะฟะบั "Test Connection" ะฒะพะทะปะต ัะตัะฒะตัะฐ
- ะ CLI: ะพัะดะตะปัะฝัะต ะบะพะผะฐะฝะดั ะดะปั ัะตััะธัะพะฒะฐะฝะธั ะฝะต ัะตะฐะปะธะทะพะฒะฐะฝั; ะธัะฟะพะปัะทัะนัะต ะทะฐะฟััะบ ะฟัะพะบัะธ ะธ ะปะพะณะธ (`--log-level debug`)

## ๐ ะัะธะผะตัั ะฟัะตัะตัะพะฒ

### Developer Assistant
ะะฝััััะผะตะฝัั ะดะปั ัะฐะทัะฐะฑะพัะบะธ ะะ:
- GitHub: ัะฟัะฐะฒะปะตะฝะธะต issues ะธ PR
- FileSystem: ััะตะฝะธะต/ะทะฐะฟะธัั ัะฐะนะปะพะฒ
- Terminal: ะฒัะฟะพะปะฝะตะฝะธะต ะบะพะผะฐะฝะด
- Database: ะทะฐะฟัะพัั ะบ ะะ

### Data Analyst
ะะฝััััะผะตะฝัั ะดะปั ะฐะฝะฐะปะธะทะฐ ะดะฐะฝะฝัั:
- Database: SQL ะทะฐะฟัะพัั
- FileSystem: ัะฐะฑะพัะฐ ั CSV/JSON
- Python: ะฒัะฟะพะปะฝะตะฝะธะต ัะบัะธะฟัะพะฒ
- Visualization: ัะพะทะดะฐะฝะธะต ะณัะฐัะธะบะพะฒ

### Content Writer
ะะฝััััะผะตะฝัั ะดะปั ะฝะฐะฟะธัะฐะฝะธั ะบะพะฝัะตะฝัะฐ:
- FileSystem: ัะฐะฑะพัะฐ ั ะดะพะบัะผะตะฝัะฐะผะธ
- Grammar: ะฟัะพะฒะตัะบะฐ ะณัะฐะผะผะฐัะธะบะธ
- Research: ะฟะพะธัะบ ะธะฝัะพัะผะฐัะธะธ
- Publishing: ะฟัะฑะปะธะบะฐัะธั ะบะพะฝัะตะฝัะฐ

### DevOps Engineer
ะะฝััััะผะตะฝัั ะดะปั DevOps:
- Kubernetes: ัะฟัะฐะฒะปะตะฝะธะต ะบะปะฐััะตัะพะผ
- Docker: ัะฐะฑะพัะฐ ั ะบะพะฝัะตะนะฝะตัะฐะผะธ
- AWS: ัะฟัะฐะฒะปะตะฝะธะต ะพะฑะปะฐัะฝัะผะธ ัะตััััะฐะผะธ
- Monitoring: ะผะตััะธะบะธ ะธ ะฐะปะตััั

## ๐๏ธ ะะฐะทัะฐะฑะพัะบะฐ

### ะกะฑะพัะบะฐ ะธะท ะธััะพะดะฝะธะบะพะฒ

```bash
# ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/qent/broxy.git
cd broxy

# ะกะฑะพัะบะฐ ะฒัะตั ะผะพะดัะปะตะน
./gradlew build

# ะะฐะฟััะบ ัะฝะธั-ัะตััะพะฒ (core, JVM ัะฐัะณะตั)
./gradlew :core:jvmTest

# ะะณัะตะณะธัะพะฒะฐะฝะฝัะน ะทะฐะฟััะบ ะฒัะตั ะผะพะดัะปัะฝัั ัะตััะพะฒ (core JVM, CLI)
./gradlew testAll

# ะญะบะฒะธะฒะฐะปะตะฝัะฝะฐั ัััะฝะฐั ัะพัะผะฐ
./gradlew :core:jvmTest :cli:test

# ะกะฑะพัะบะฐ desktop ะฟัะธะปะพะถะตะฝะธั
./gradlew :ui:packageDistributionForCurrentOS

# ะกะฑะพัะบะฐ CLI JAR
./gradlew :cli:shadowJar
```

### ะฎะฝะธัโัะตััั: ะฟัะฐะฒะธะปะฐ ะธ ะฟัะธะผะตัั

- ะัะบะพะฒะพะดััะฒะพ ะฟะพ ัะฝะธัโัะตััะฐะผ: ัะผ. `docs/TESTING.md`.
- ะัะธัะธัะตัะบะฐั ะปะพะณะธะบะฐ ะฟะพะบัััะฐ ะฒ `core/src/jvmTest`: ัะพะตะดะธะฝะตะฝะธั MCP, ะฟัะพะบัะธโัะธะปัััะฐัะธั/ัะพััะธะฝะณ, ะบะปะธะตะฝัั HTTP/WS/STDIO, ะบัั ะธ backoff.
- ะัะฟะพะปัะทัะตะผ AAAโััััะบัััั, MockitoโKotlin ะธ ะบะพะฝััััะบัะพัะฝัั ะธะฝัะตะบัะธั ะทะฐะฒะธัะธะผะพััะตะน.

### ะะฐะบะตัะธัะพะฒะฐะฝะธะต ะธ ะฟะพะดะฟะธัั

- ะะพะผะฐะฝะดะฐ: `./gradlew :ui:packageDistributionForCurrentOS` ะณะตะฝะตัะธััะตั DMG (macOS), MSI (Windows) ะธะปะธ DEB (Linux) ะฒ `ui/build/compose/binaries/main/<format>/`.
- ะะบะพะฝะบะธ (ะพะฟัะธะพะฝะฐะปัะฝะพ): ะฟะพะปะพะถะธัะต ัะฐะนะปั ะฒ `ui/src/desktopMain/resources/icons/`
  - macOS: `broxy.icns`
  - Windows: `broxy.ico`
  - Linux: `broxy.png`
- ะะพะดะฟะธัั (ะฟะพ ะฟะตัะตะผะตะฝะฝัะผ ะพะบััะถะตะฝะธั; ะฟะพ ัะผะพะปัะฐะฝะธั ะพัะบะปััะตะฝะฐ):
  - macOS: `MACOS_SIGN=true`, `MACOS_IDENTITY=Developer ID Application: ...`, `MACOS_NOTARY_APPLE_ID`, `MACOS_NOTARY_PASSWORD`, `MACOS_NOTARY_TEAM_ID`
  - Windows: `WIN_SIGN=true`, `WIN_CERT_PATH=/path/to/cert.pem` ะธะปะธ `.p7b`, `WIN_KEY_PATH=/path/to/key.pem`, `WIN_CERT_PASSWORD=secret`, `WIN_TIMESTAMP_URL` (ะฝะตะพะฑัะทะฐัะตะปัะฝะพ)
- CI: ัะตะปะธะทะฝัะน workflow `.github/workflows/release.yml` ัะพะฑะธัะฐะตั ะฐััะตัะฐะบัั ะฟะพ ะผะฐััะธัะต OS, ะดะพะฑะฐะฒะปัะตั SHA256 ะธ ะฟัะฑะปะธะบัะตั ะธั ะฝะฐ ัะตะปะธะท ะฟะพ ัะตะณั `v*`.

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
broxy/
โโโ core/           # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โโโ ui/             # Desktop UI
โโโ cli/            # CLI ะฟัะธะปะพะถะตะฝะธะต
โโโ docs/           # ะะพะบัะผะตะฝัะฐัะธั
```

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

ะั ะฟัะธะฒะตัััะฒัะตะผ ะฒะบะปะฐะด ะฒ ัะฐะทะฒะธัะธะต ะฟัะพะตะบัะฐ! ะัะตะดะปะฐะณะฐะนัะต ัะปัััะตะฝะธั ัะตัะตะท Issues ะธ Pull Requests ะฒ ัะตะฟะพะทะธัะพัะธะธ.

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. [LICENSE](LICENSE) ะดะปั ะดะตัะฐะปะตะน.

## ๐ ะะพะปะตะทะฝัะต ัััะปะบะธ

- [Model Context Protocol Specification](https://modelcontextprotocol.io)
- [MCP Kotlin SDK](https://github.com/modelcontextprotocol/kotlin-sdk)
- [Compose Multiplatform](https://www.jetbrains.com/lp/compose-multiplatform/)

## โ FAQ

**Q: ะะพะถะฝะพ ะปะธ ะธัะฟะพะปัะทะพะฒะฐัั broxy ั ะดััะณะธะผะธ AI ะบะปะธะตะฝัะฐะผะธ, ะบัะพะผะต Claude Desktop?**
A: ะะฐ, ะปัะฑะพะน ะบะปะธะตะฝั, ะฟะพะดะดะตัะถะธะฒะฐััะธะน MCP ะฟัะพัะพะบะพะป, ะผะพะถะตั ะฟะพะดะบะปััะธัััั ะบ ะฟัะพะบัะธ-ัะตัะฒะตัั.

**Q: ะกะบะพะปัะบะพ ัะตัะฒะตัะพะฒ ะผะพะถะฝะพ ะฟะพะดะบะปััะธัั ะพะดะฝะพะฒัะตะผะตะฝะฝะพ?**
A: ะะณัะฐะฝะธัะตะฝะธะน ะฝะตั, ะฝะพ ัะตะบะพะผะตะฝะดัะตััั ะฝะต ะฑะพะปะตะต 10-15 ะดะปั ะพะฟัะธะผะฐะปัะฝะพะน ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ.

**Q: ะะพะดะดะตัะถะธะฒะฐะตััั ะปะธ hot-reload ะบะพะฝัะธะณััะฐัะธะธ?**
A: ะะฐ. ะ UI, ะธ CLI ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพััะปะตะถะธะฒะฐัั ะธะทะผะตะฝะตะฝะธั ัะฐะนะปะพะฒ `mcp.json` ะธ `preset_*.json` ะฒ `--config-dir` ะธ ะฟัะธะผะตะฝััั ะธั (ั ะดะตะฑะฐัะฝัะพะผ ~300ะผั).

**Q: ะะพะถะฝะพ ะปะธ ัะพะทะดะฐัั ะฟัะตัะตั, ะบะพัะพััะน ะฒะบะปััะฐะตั ะะกะ ะธะฝััััะผะตะฝัั?**
A: ะะฐ, ะผะพะถะฝะพ ัะพะทะดะฐัั ะฟัะตัะตั ะฑะตะท ัะธะปัััะฐัะธะธ, ะบะพัะพััะน ะฟัะพะบัะธััะตั ะฒัะต ะดะพัััะฟะฝัะต ะธะฝััััะผะตะฝัั.

**Q: ะะฐะบ ะพะฑะฝะพะฒะธัั ะฟัะธะปะพะถะตะฝะธะต?**
A: ะกะบะฐัะฐะนัะต ะฝะพะฒัั ัะฑะพัะบั (ะธะฝััะฐะปะปััะพั ะดะปั Desktop ะธะปะธ ะฝะพะฒัะน CLI JAR) ั ัะตะปะธะทะพะฒ ะธ ัััะฐะฝะพะฒะธัะต/ะทะฐะผะตะฝะธัะต ัะตะบัััั ะฒะตััะธั.

## ๐ ะะพะดะดะตัะถะบะฐ

- **Issues**: [GitHub Issues](https://github.com/qent/broxy/issues)
- **Discussions**: [GitHub Discussions](https://github.com/qent/broxy/discussions)
- **Email**: support@broxy.example.com
